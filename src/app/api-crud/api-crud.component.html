<p>api-crud works!</p>
<div class="container">
    <form name="myForm" #frm="ngForm" (ngSubmit)="onSubmitData(frm)">

        <input type="hidden" name="id" #id="ngModel" ngModel [(ngModel)]="idd">

        <div class="form-group">
            <label for="username" class="form-label">User Name :</label>
            <input type="text" name="uname" class="form-control" #uname="ngModel" ngModel [(ngModel)]="unn"
            [ngClass]="{'is-invalid':frm.submitted && uname.invalid}" required>

            <div *ngIf="uname.touched" class="invalid-feedback">
                <div *ngIf="uname.errors?.['required']">This field is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="email" class="form-label">Email :</label>
            <input type="email" name="eml" class="form-control" #eml="ngModel" ngModel [(ngModel)]="em"
            [ngClass]="{'is-invalid':frm.submitted && eml.invalid}" required 
            pattern="^[\w]{1,}[\w.+-]{0,}@[\w-]{2,}([.][a-zA-Z]{2,}|[.][\w-]{2,}[.][a-zA-Z]{2,})$">

            <div *ngIf="eml.touched" class="invalid-feedback">
                <div *ngIf="eml.errors?.['required']">This field is required</div>
                <div *ngIf="eml.errors?.['pattern']">Please enter valid email address</div>
            </div>
        </div>

        <div class="form-group">
            <label for="address" class="form-label">Address :</label>
            <input type="text" name="add" class="form-control" #add="ngModel" ngModel [(ngModel)]="ad"
            
            [ngClass]="{'is-invalid':frm.submitted && add.invalid}" required>

            <div *ngIf="add.touched" class="invalid-feedback">
                <div *ngIf="add.errors?.['required']">This field is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="password" class="form-label">Password :</label>
            <input type="password" name="pass" class="form-control" #pass="ngModel" ngModel [(ngModel)]="ps"
            
            [ngClass]="{'is-invalid':frm.submitted && pass.invalid}" required>

            <div *ngIf="pass.touched" class="invalid-feedback">
                <div *ngIf="pass.errors?.['required']">This field is required</div>
            </div>
        </div>
        <br>
        <button class="btn btn-primary">Submit</button>
        &nbsp;
        <button class="btn btn-info" (click)="updateBtn(frm)">Update</button>
    </form>

    <table class="table table-responsive">
        <tr *ngIf="allData?.length>0">
            <th>User Name</th>
            <th>Email</th>
            <th>Address</th>
            <th>Password</th>
            <th>Action</th>
            <th>Action</th>
        </tr>

        <tr *ngFor="let dt of allData">
            <td>{{dt.uname}}</td>
            <td>{{dt.eml}}</td>
            <td>{{dt.add}}</td>
            <td>{{dt.pass}}</td>
            <td><button class="btn btn-danger" (click)="onDeleteData(dt)">Delete</button></td>
            <td><button class="btn btn-info" (click)="onUpdateData(dt)">Update</button></td>
        </tr>
    </table>
</div>
